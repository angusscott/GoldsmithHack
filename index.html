<!DOCTYPE html>
<html>
<head>
    <title>Grammarphone</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <style>
        body {padding-top: 50px;}
    </style>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <p>Please insert graph here</p>
        </div>
        <div class="col-md-6">
            <form class="form-horizontal">
                <div class="form-group">
                    <div class="col-md-2">
                        <label for="inputArtist" class="control-label col-xs-2">Artist</label>
                    </div>
                    <div class="col-md-10">
                        <input class="form-control" id="inputArtist" value="">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-2">
                        <label for="inputTrack" class="control-label col-xs-2">Track</label>
                    </div>
                    <div class="col-md-10">
                        <input class="form-control" id="inputTrack" value="">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-11">
                        <a class="btn btn-primary btn-lg btn-block", id="playmusic", type="submit">Lets play some music</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
    (function () {
        var audio = new Audio();

        function searchTracks(query) {
            $.ajax({
                url: 'https://api.spotify.com/v1/search',
                data: {
                    q: query,
                    type: 'track'
                },
                success: function (response) {
                    if (response.tracks.items.length) {
                        var track = response.tracks.items[0];
                        audio.src = track.preview_url;
                        audio.play();
                        communicateAction('<div>Playing ' + track.name + ' by ' + track.artists[0].name + '</div><img width="150" src="' + track.album.images[1].url + '">');
                    }
                }
            });
        }

        function playSong(songName, artistName) {
            var query = songName;
            if (artistName) {
                query += ' artist:' + artistName;
            }

            searchTracks(query);
        }

        $( "#playmusic" ).click(function() {
            playSong("Sandstorm", "Darude");
        });

    })();
</script>

</body>
</html>

